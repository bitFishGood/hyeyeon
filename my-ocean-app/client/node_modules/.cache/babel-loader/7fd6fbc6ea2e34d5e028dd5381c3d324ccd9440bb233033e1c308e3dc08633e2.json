{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\younk\\\\Desktop\\\\my-ocean-app (1)\\\\client\\\\src\\\\components\\\\Auth\\\\KakaoCallback.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction KakaoCallback() {\n  _s();\n  const navigate = useNavigate();\n  useEffect(() => {\n    // 인증 후 카카오가 넘겨준 code 파라미터 확인\n    const code = new URL(window.location.href).searchParams.get('code');\n    if (!code) {\n      alert('카카오 인증 코드가 없습니다.');\n      return;\n    }\n\n    // 백엔드로 code 전송\n    fetch('http://localhost:8080/oauth/kakao/callback', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        code\n      })\n    }).then(res => res.json()).then(data => {\n      // 백엔드에서 발급한 JWT 토큰이나 세션 등 저장\n      if (data.token) {\n        localStorage.setItem('token', data.token);\n        navigate('/aquarium');\n        // 원하는 라우트로 이동 (예: 로그인 성공 후 메인 페이지)\n      } else {\n        alert('카카오 로그인 실패');\n      }\n    }).catch(err => {\n      console.error('로그인 실패:', err);\n      alert('카카오 로그인 에러');\n    });\n  }, [navigate]);\n  return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"\\uCE74\\uCE74\\uC624 \\uB85C\\uADF8\\uC778 \\uCC98\\uB9AC \\uC911\\uC785\\uB2C8\\uB2E4...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 10\n  }, this);\n}\n_s(KakaoCallback, \"0pNeyzXk/ByIxyERsdaIrG6js9s=\", false, function () {\n  return [useNavigate];\n});\n_c = KakaoCallback;\nexport default KakaoCallback;\nvar _c;\n$RefreshReg$(_c, \"KakaoCallback\");","map":{"version":3,"names":["React","useEffect","useNavigate","jsxDEV","_jsxDEV","KakaoCallback","_s","navigate","code","URL","window","location","href","searchParams","get","alert","fetch","method","headers","body","JSON","stringify","then","res","json","data","token","localStorage","setItem","catch","err","console","error","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/younk/Desktop/my-ocean-app (1)/client/src/components/Auth/KakaoCallback.jsx"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nfunction KakaoCallback() {\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    // 인증 후 카카오가 넘겨준 code 파라미터 확인\r\n    const code = new URL(window.location.href).searchParams.get('code');\r\n    if (!code) {\r\n      alert('카카오 인증 코드가 없습니다.');\r\n      return;\r\n    }\r\n\r\n    // 백엔드로 code 전송\r\n    fetch('http://localhost:8080/oauth/kakao/callback', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({ code })\r\n    })\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        // 백엔드에서 발급한 JWT 토큰이나 세션 등 저장\r\n        if (data.token) {\r\n          localStorage.setItem('token', data.token);\r\n          navigate('/aquarium');\r\n          // 원하는 라우트로 이동 (예: 로그인 성공 후 메인 페이지)\r\n        } else {\r\n          alert('카카오 로그인 실패');\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.error('로그인 실패:', err);\r\n        alert('카카오 로그인 에러');\r\n      });\r\n  }, [navigate]);\r\n\r\n  return <p>카카오 로그인 처리 중입니다...</p>;\r\n}\r\n\r\nexport default KakaoCallback;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,WAAW,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE/C,SAASC,aAAaA,CAAA,EAAG;EAAAC,EAAA;EACvB,MAAMC,QAAQ,GAAGL,WAAW,CAAC,CAAC;EAE9BD,SAAS,CAAC,MAAM;IACd;IACA,MAAMO,IAAI,GAAG,IAAIC,GAAG,CAACC,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAC,CAACC,YAAY,CAACC,GAAG,CAAC,MAAM,CAAC;IACnE,IAAI,CAACN,IAAI,EAAE;MACTO,KAAK,CAAC,kBAAkB,CAAC;MACzB;IACF;;IAEA;IACAC,KAAK,CAAC,4CAA4C,EAAE;MAClDC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QAAE,cAAc,EAAE;MAAmB,CAAC;MAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QAAEb;MAAK,CAAC;IAC/B,CAAC,CAAC,CACCc,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACvBF,IAAI,CAACG,IAAI,IAAI;MACZ;MACA,IAAIA,IAAI,CAACC,KAAK,EAAE;QACdC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEH,IAAI,CAACC,KAAK,CAAC;QACzCnB,QAAQ,CAAC,WAAW,CAAC;QACrB;MACF,CAAC,MAAM;QACLQ,KAAK,CAAC,YAAY,CAAC;MACrB;IACF,CAAC,CAAC,CACDc,KAAK,CAACC,GAAG,IAAI;MACZC,OAAO,CAACC,KAAK,CAAC,SAAS,EAAEF,GAAG,CAAC;MAC7Bf,KAAK,CAAC,YAAY,CAAC;IACrB,CAAC,CAAC;EACN,CAAC,EAAE,CAACR,QAAQ,CAAC,CAAC;EAEd,oBAAOH,OAAA;IAAA6B,QAAA,EAAG;EAAkB;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAG,CAAC;AAClC;AAAC/B,EAAA,CAnCQD,aAAa;EAAA,QACHH,WAAW;AAAA;AAAAoC,EAAA,GADrBjC,aAAa;AAqCtB,eAAeA,aAAa;AAAC,IAAAiC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}