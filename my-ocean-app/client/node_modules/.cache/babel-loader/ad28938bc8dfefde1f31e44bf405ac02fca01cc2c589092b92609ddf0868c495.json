{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\younk\\\\Desktop\\\\my-ocean-app (1)\\\\client\\\\src\\\\components\\\\Auth\\\\KakaoCallback.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction KakaoCallback() {\n  _s();\n  const navigate = useNavigate();\n  useEffect(() => {\n    const code = new URL(window.location.href).searchParams.get('code');\n    if (!code) {\n      console.error(\"❌ 인가코드 없음\");\n      return;\n    }\n    fetch('http://localhost:8080/oauth/kakao/callback', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        code\n      })\n    }).then(res => res.json()).then(data => {\n      const {\n        token,\n        user\n      } = data;\n      localStorage.setItem('token', token);\n      navigate('/aquarium'); // 웰컴 페이지 또는 어항\n    }).catch(err => {\n      console.error('카카오 로그인 실패:', err);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"\\uCE74\\uCE74\\uC624 \\uB85C\\uADF8\\uC778 \\uCC98\\uB9AC \\uC911\\uC785\\uB2C8\\uB2E4...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 10\n  }, this);\n}\n_s(KakaoCallback, \"0pNeyzXk/ByIxyERsdaIrG6js9s=\", false, function () {\n  return [useNavigate];\n});\n_c = KakaoCallback;\nexport default KakaoCallback;\nvar _c;\n$RefreshReg$(_c, \"KakaoCallback\");","map":{"version":3,"names":["React","useEffect","useNavigate","jsxDEV","_jsxDEV","KakaoCallback","_s","navigate","code","URL","window","location","href","searchParams","get","console","error","fetch","method","headers","body","JSON","stringify","then","res","json","data","token","user","localStorage","setItem","catch","err","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/younk/Desktop/my-ocean-app (1)/client/src/components/Auth/KakaoCallback.jsx"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nfunction KakaoCallback() {\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const code = new URL(window.location.href).searchParams.get('code');\r\n\r\n    if (!code) {\r\n      console.error(\"❌ 인가코드 없음\");\r\n      return;\r\n    }\r\n\r\n    fetch('http://localhost:8080/oauth/kakao/callback', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({ code }),\r\n    })\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        const { token, user } = data;\r\n        localStorage.setItem('token', token);\r\n        navigate('/aquarium'); // 웰컴 페이지 또는 어항\r\n      })\r\n      .catch(err => {\r\n        console.error('카카오 로그인 실패:', err);\r\n      });\r\n  }, []);\r\n\r\n  return <p>카카오 로그인 처리 중입니다...</p>;\r\n}\r\n\r\nexport default KakaoCallback;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,WAAW,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE/C,SAASC,aAAaA,CAAA,EAAG;EAAAC,EAAA;EACvB,MAAMC,QAAQ,GAAGL,WAAW,CAAC,CAAC;EAE9BD,SAAS,CAAC,MAAM;IACd,MAAMO,IAAI,GAAG,IAAIC,GAAG,CAACC,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAC,CAACC,YAAY,CAACC,GAAG,CAAC,MAAM,CAAC;IAEnE,IAAI,CAACN,IAAI,EAAE;MACTO,OAAO,CAACC,KAAK,CAAC,WAAW,CAAC;MAC1B;IACF;IAEAC,KAAK,CAAC,4CAA4C,EAAE;MAClDC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QAAE,cAAc,EAAE;MAAmB,CAAC;MAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QAAEd;MAAK,CAAC;IAC/B,CAAC,CAAC,CACCe,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACvBF,IAAI,CAACG,IAAI,IAAI;MACZ,MAAM;QAAEC,KAAK;QAAEC;MAAK,CAAC,GAAGF,IAAI;MAC5BG,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEH,KAAK,CAAC;MACpCpB,QAAQ,CAAC,WAAW,CAAC,CAAC,CAAC;IACzB,CAAC,CAAC,CACDwB,KAAK,CAACC,GAAG,IAAI;MACZjB,OAAO,CAACC,KAAK,CAAC,aAAa,EAAEgB,GAAG,CAAC;IACnC,CAAC,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;EAEN,oBAAO5B,OAAA;IAAA6B,QAAA,EAAG;EAAkB;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAG,CAAC;AAClC;AAAC/B,EAAA,CA5BQD,aAAa;EAAA,QACHH,WAAW;AAAA;AAAAoC,EAAA,GADrBjC,aAAa;AA8BtB,eAAeA,aAAa;AAAC,IAAAiC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}