{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\younk\\\\Desktop\\\\my-ocean-app (1)\\\\client\\\\src\\\\components\\\\Mailbox.js\";\nimport React from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Mailbox({\n  letters,\n  token,\n  setLetters,\n  closeModal\n}) {\n  const handleDelete = letterId => {\n    if (!window.confirm('Ïù¥ Ìé∏ÏßÄÎ•º ÏÇ≠Ï†úÌï†ÍπåÏöî?')) return;\n    fetch(`/api/letters/${letterId}`, {\n      method: 'DELETE',\n      headers: {\n        'Authorization': `Bearer ${token}`\n      }\n    }).then(res => {\n      if (res.ok) {\n        setLetters(prev => prev.filter(letter => letter._id !== letterId));\n      } else {\n        alert('Ìé∏ÏßÄ ÏÇ≠Ï†ú Ïã§Ìå®');\n      }\n    }).catch(err => console.error('Delete letter error:', err));\n  };\n  const handleReply = toId => {\n    const content = window.prompt('ÎãµÏû• ÎÇ¥Ïö©:');\n    if (!content) return;\n    fetch('/api/letters', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      },\n      body: JSON.stringify({\n        content,\n        to: toId\n      })\n    }).then(res => res.json()).then(data => {\n      if (data && data._id) {\n        alert('ÎãµÏû•ÏùÑ Î≥¥ÎÉàÏäµÎãàÎã§!');\n      } else {\n        alert('ÎãµÏû• Î≥¥ÎÇ¥Í∏∞ Ïã§Ìå®');\n      }\n    }).catch(err => {\n      console.error('Reply error:', err);\n      alert('ÎãµÏû• Î≥¥ÎÇ¥Í∏∞ Ïã§Ìå®');\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal-content\",\n    onClick: e => e.stopPropagation(),\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cute-icon\",\n      children: \"\\uD83D\\uDCE9\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\uD3B8\\uC9C0\\uD568\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), letters.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"\\uBC1B\\uC740 \\uD3B8\\uC9C0\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: 'left',\n        maxHeight: '200px',\n        overflowY: 'auto'\n      },\n      children: letters.map(letter => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          border: '1px solid #aaa',\n          borderRadius: '4px',\n          padding: '5px',\n          marginBottom: '5px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: [letter.fromName || 'Ïïå Ïàò ÏóÜÏùå', \":\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 20\n          }, this), \" \", letter.content]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: 'right'\n          },\n          children: [letter.fromId && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleReply(letter.fromId),\n            style: {\n              marginRight: '5px'\n            },\n            children: \"\\uB2F5\\uC7A5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 35\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleDelete(letter._id),\n            children: \"\\uC0AD\\uC81C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 15\n        }, this)]\n      }, letter._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: closeModal,\n      style: {\n        marginTop: '10px'\n      },\n      children: \"\\uB2EB\\uAE30\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n}\n_c = Mailbox;\nvar _c;\n$RefreshReg$(_c, \"Mailbox\");","map":{"version":3,"names":["React","jsxDEV","_jsxDEV","Mailbox","letters","token","setLetters","closeModal","handleDelete","letterId","window","confirm","fetch","method","headers","then","res","ok","prev","filter","letter","_id","alert","catch","err","console","error","handleReply","toId","content","prompt","body","JSON","stringify","to","json","data","className","onClick","e","stopPropagation","children","fileName","_jsxFileName","lineNumber","columnNumber","length","style","textAlign","maxHeight","overflowY","map","border","borderRadius","padding","marginBottom","fromName","fromId","marginRight","marginTop","_c","$RefreshReg$"],"sources":["C:/Users/younk/Desktop/my-ocean-app (1)/client/src/components/Mailbox.js"],"sourcesContent":["import React from 'react';\r\n\r\nexport default function Mailbox({ letters, token, setLetters, closeModal }) {\r\n  const handleDelete = (letterId) => {\r\n    if (!window.confirm('Ïù¥ Ìé∏ÏßÄÎ•º ÏÇ≠Ï†úÌï†ÍπåÏöî?')) return;\r\n    fetch(`/api/letters/${letterId}`, {\r\n      method: 'DELETE',\r\n      headers: { 'Authorization': `Bearer ${token}` }\r\n    })\r\n      .then(res => {\r\n        if (res.ok) {\r\n          setLetters(prev => prev.filter(letter => letter._id !== letterId));\r\n        } else {\r\n          alert('Ìé∏ÏßÄ ÏÇ≠Ï†ú Ïã§Ìå®');\r\n        }\r\n      })\r\n      .catch(err => console.error('Delete letter error:', err));\r\n  };\r\n\r\n  const handleReply = (toId) => {\r\n    const content = window.prompt('ÎãµÏû• ÎÇ¥Ïö©:');\r\n    if (!content) return;\r\n    fetch('/api/letters', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Bearer ${token}`\r\n      },\r\n      body: JSON.stringify({ content, to: toId })\r\n    })\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        if (data && data._id) {\r\n          alert('ÎãµÏû•ÏùÑ Î≥¥ÎÉàÏäµÎãàÎã§!');\r\n        } else {\r\n          alert('ÎãµÏû• Î≥¥ÎÇ¥Í∏∞ Ïã§Ìå®');\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.error('Reply error:', err);\r\n        alert('ÎãµÏû• Î≥¥ÎÇ¥Í∏∞ Ïã§Ìå®');\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"modal-content\" onClick={e => e.stopPropagation()}>\r\n      <div className=\"cute-icon\">üì©</div>\r\n      <h2>Ìé∏ÏßÄÌï®</h2>\r\n      {letters.length === 0 ? (\r\n        <p>Î∞õÏùÄ Ìé∏ÏßÄÍ∞Ä ÏóÜÏäµÎãàÎã§.</p>\r\n      ) : (\r\n        <div style={{ textAlign: 'left', maxHeight: '200px', overflowY: 'auto' }}>\r\n          {letters.map(letter => (\r\n            <div key={letter._id} style={{ border: '1px solid #aaa', borderRadius: '4px', padding: '5px', marginBottom: '5px' }}>\r\n              <div><b>{letter.fromName || 'Ïïå Ïàò ÏóÜÏùå'}:</b> {letter.content}</div>\r\n              <div style={{ textAlign: 'right' }}>\r\n                {letter.fromId && <button onClick={() => handleReply(letter.fromId)} style={{ marginRight: '5px' }}>ÎãµÏû•</button>}\r\n                <button onClick={() => handleDelete(letter._id)}>ÏÇ≠Ï†ú</button>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n      <button onClick={closeModal} style={{ marginTop: '10px' }}>Îã´Í∏∞</button>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}